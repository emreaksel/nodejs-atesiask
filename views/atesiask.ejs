<!DOCTYPE html>
<html>
<!--shift+alt+F ile kod düzenleme yapabilirsin-->
<!--EJS language support extension indirmeden < % bu yapıyı kullanamıyorsun -->

<head>
    <title>
        <%=title%>
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--Jquery-->
    <script src="https://code.jquery.com/jquery-3.6.1.js"
        integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
    <!--Bootstrap Css-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <!--Bootstrap Js-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous">
        </script>

    <!-- font-awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" rel="stylesheet">

</head>

<body>
    <!-- partial:index.partial.html -->
    <div class="player" id="ap">
        <div class="player_body">
            <div class="hamburger-menu">
                <i class="fa-solid fa-ellipsis-vertical"></i>
            </div>
            <!--==============================================================================================-->
            <div class="nav_menu" id="navMenu">
                <div class="nav_list">

                    <div class="nav_item">
                        <p>Eğer aşkı seversen cân olasın:</p>
                        <a href="https://umutrehberi.com/" target="_blank">Umut Rehberi</a>
                    </div>
                    <div class="nav_item">
                        <p>Kuş Dili:</p>
                        <a href="https://open.spotify.com/show/0aZrN5YZMMTdMohk5xHk3F" target="_blank">Spotify</a>
                    </div>
                    <div class="nav_item">
                        <p>Web:</p>
                        <a href="http://www.atesiask.com/" target="_blank">Ateş-i Aşk</a>
                    </div>
                    <div class="nav_item">
                        <p>Android App:</p>
                        <a href="https://play.google.com/store/apps/details?id=com.ea.atesi_ask"
                            target="_blank">Mobil</a>
                    </div>
                    <div class="nav_item">
                        <p>Developed by:</p>
                        <a href="#">Aşk</a>
                    </div>
                </div>
            </div>
            <!--==============================================================================================-->
            <div class="player_fade"></div>
            <div class="player_header">
                <div>
                    <div class="te" style="display: flex; flex-flow: row wrap; justify-content: space-around;">
                        <div class="col text-center">
                            <div class="back_btn"><i class="fa-solid fa-list-check"></i></div>
                        </div>
                        <div class="col"></div>
                        <div class="col">
                            <div class="header_name text-center">
                                <span>Âteş-i Aşk</span>
                            </div>
                        </div>
                        <div class="col"></div>
                        <div class="col"></div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div id="ilkalan" class="col-xs-12 col-sm-12 col-md-6 col-lg-7">
                    <div class="player_content">
                        <div class="row">
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <div class="player_img d-flex justify-content-center align-items-center">
                                    <div id="resim" class="resim-sever"></div>
                                    <div class="marquee_div">
                                        <marquee class="marquee" behavior="scroll" direction="left" scrollamount="1">Aşk
                                            Olsun
                                        </marquee>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <div class="timeline_wrap">
                                    <div class="time_of_song">
                                        <div class="container-fluid">
                                            <div class="row">
                                                <div class="col "><span class="current-time"
                                                        style="float:left;">00:00</span>
                                                </div>
                                                <div class="col-6 text-center">
                                                    <div><span class="track-name"></span></div>
                                                    <div><span class="track-artist"></span></div>
                                                </div>
                                                <div class="col "><span class="total-duration"
                                                        style="float:right;">00:00</span>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="seek_background" onclick='seekTo(event)'>
                                        <div class="seek">
                                            <div class="seek_circle"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="share">
                                    <div class="row mt-1">
                                        <div class="col">
                                            <label id="label_share" style="width:100%;color:white;font-weight:400"
                                                class="text-center">Paylaşım Bağlantısı<i class="fa-solid fa-xmark"
                                                    onclick="paylasim_sirla()"
                                                    style="float:right;margin-right:20px;"></i>
                                            </label>
                                        </div>
                                    </div>
                                    <input value="Hello" id="share" style="width:100%;color:black"
                                        class="text-center ml-1 mr-1">
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <div class="player_btns"
                                    style="display:flex;flex-flow: row wrap;justify-content:space-around">
                                    <div class="random_btn text-center" id="random"><i class="fa-solid fa-shuffle"></i>
                                    </div>
                                    <div class="prev_btn text-center" onclick="prevTrack()"><i
                                            class="fa-solid fa-backward"></i>
                                    </div>
                                    <div class="play_btn text-center" onclick="playpauseTrack()"><i
                                            class="fa-solid fa-play"></i></div>
                                    <div class="next_btn text-center" onclick="nextTrack()"><i
                                            class="fa-solid fa-forward"></i>
                                    </div>
                                    <div class="send_btn text-center" id="send"><i class="fa-solid fa-paper-plane"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                            </div>
                        </div>
                    </div>
                </div>
                <div id="ikincialan" class="col-xs-12 col-sm-12 col-md-6 col-lg-5">
                    <div class="row style="margin-right:20px;"">
                        <div class="player_playlist">
                            <div class="mt-1"><input id="bul" class="bul text-center" type="text"
                                    placeholder="Listede Bul"></div>
                            <ul id="plList"></ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--preloader-->
    <div id="preloader">
        <div id="status">
            <div class="spinner">
                <div class="rect1"></div>
                <div class="rect2"></div>
                <div class="rect3"></div>
                <div class="rect4"></div>
                <div class="rect5"></div>
            </div>
        </div>
    </div>

    <!--===============================================-->
    <p hidden id=xml_listesi>
        <%= JSON.stringify(xml_listesi) %>
    </p>
    <!--==============================================================================================-->
    <!--CSS-->
    <link rel="stylesheet" type="text/css" href="/css/style.css" />

    <script>
        console.log("height --> ", $('body').css('height'));
        console.log("width --> ", $('body').css('width'));

        var resimyuksekligi = (parseInt($('body').css('height'))) / 2;
        console.log("resimyuksekligi --> ", resimyuksekligi);

        //$('.player_playlist').hide();
        $('.share').hide();

        //var myModal = new bootstrap.Modal(document.getElementById("sharePopup"));
        //myModal.show();


        function ui(H, W) {
            $('.player_header').css('height', parseInt(parseInt(H) * 0.08) + "px");
            //$('.player_content').css('height', parseInt(parseInt(H) * 0.92) + "px");
            $('.player_img').css('height', parseInt(parseInt(H) * 0.65) + "px");
            $('.player_img').css('max-height', parseInt(parseInt(H) * 0.65) + "px");

            $('.timeline_wrap').css('height', parseInt(parseInt(H) * 0.15) + "px");
            $('.share').css('height', parseInt(parseInt(H) * 0.15) + "px");
            $('.player_btns').css('height', parseInt(parseInt(H) * 0.5) + "px");
            $('.player_playlist').css('height', parseInt(parseInt(H) * 0.90) + "px");
        }

        window.addEventListener('resize', function (event) {
            ui($('body').css('height'), $('body').css('width'));
            konsola_yaz("resize", "detect-resize")
        }, true);

        $(window).on('load', function () { // makes sure the whole site is loaded
            $('#status').fadeOut(); // will first fade out the loading animation
            $('#preloader').delay(100).fadeOut('slow'); // will fade out the white DIV that covers the website.
            ui($('body').css('height'), $('body').css('width'));
            $('#sharePopup').modal();
        });

        var listen_index = 0;
        var track_index = 0;
        var share_index = 0;
        var isPlaying = false;
        var next_type = 0; //0 karışık, 1 sıra ile, 2 tekrarlı
        var updateTimer;

        // Create new audio element
        var curr_track = document.createElement('audio');
        var playpause_btn = document.querySelector(".playpause-track");

        // resimlerin listesi
        var list_images = new Array();
        //Nukte Listesi
        var list_nukte = new Array();
        // parça listesi
        var track_list = new Array();
        track_list = JSON.parse(document.getElementById('xml_listesi').innerText) // Get element text that has locals, then parse it
        document.getElementById('xml_listesi').innerText = '' // Remove the text (So we don't have a random element with the locals
        //console.log(locals)
        // dinlenmiş parça listesi
        var track_list_before = new Array(); //önceki parça için bir sayı tutuyor
        //----------------------
        var bul = document.getElementById('bul');
        bul.onkeyup = function () {
            var filter = bul.value.toLowerCase();//.toUpperCase();
            var lis = document.getElementsByTagName('li');
            for (var i = 0; i < lis.length; i++) {
                var parcaisim = lis[i].querySelector('.plItem .plTitle').innerHTML;
                var parcases = lis[i].querySelector('.plItem .plLength').innerHTML;
                var ara=parcaisim+parcases;
                if (degistir(ara.toLowerCase()).includes(degistir(filter))) lis[i].style.display = 'list-item';
                else lis[i].style.display = 'none';
            }
            function degistir(ara) { //aramayı kolaylaştıralım
                ara=ara.replace(/\s/g, ''); //boşlukları sil
                ara=ara.replace(/â/g, 'a');
                ara=ara.replace(/ş/g, 's');
                ara=ara.replace(/ö/g, 'o');
                ara=ara.replace(/ü/g, 'u');
                ara=ara.replace(/ı/g, 'i');
                ara=ara.replace(/ç/g, 'c');
                ara=ara.replace(/ğ/g, 'g');
                return ara;
            }
        }
        $('.random_btn').click(function () {
            mixTrack();
        });
        $('.send_btn').click(function () {
            share_index = track_list.length - track_index - 1;
            console.log(track_list.length, track_index, share_index);
            console.log("Paylaşılan; " + "https://atesiask.netlify.app/?catid=9&trackid=" + share_index);
            var text = "https://atesiask.netlify.app/?catid=9&trackid=" + share_index;
            Copy(text);
        });
        function paylasim_sirla() {
            $('.share').hide();
            $('.timeline_wrap').show();
        }
        $('.back_btn').click(function () {
            console.log("back button click");
            if ($("#ilkalan").is(":hidden")) {
                $("#ilkalan").show();
            } else $("#ilkalan").hide();
            // if ($("#ilkalan").attr("class") == "col-sm-12") {
            //     $("#ilkalan").attr("class", "col-sm-7");
            //     $("#ikincialan").attr("class", "col-sm-5");
            // } else {
            //     $("#ilkalan").attr("class", "col-sm-12");
            //     $("#ikincialan").attr("class", "col-sm-12");
            // }
        });
        //----------------------
        $('.hamburger-menu').click(function () {
            $('.bar').toggleClass('animate');
            $('.hamburger-menu').toggleClass('slide');
            $('.back_btn').toggleClass('slide');
            $('.nav_menu').toggleClass('open');
            $('.player_fade').toggleClass('player_fade_on');
        });
        $('.player_fade').click(function () {
            $('.bar').toggleClass('animate');
            $('.hamburger-menu').toggleClass('slide');
            $('.back_btn').toggleClass('slide');
            $('.nav_menu').toggleClass('open');
            $('.player_fade').toggleClass('player_fade_on');
        });
        //----------------------
        curr_track.onended = function () {
            nextTrack();
            updateMetadata();
        };
        curr_track.onplaying = function () {
            $('.play_btn').html('<i class="fa-solid fa-pause"></i>');

            console.log("onplaying");
        }
        curr_track.onpause = function () {
            $('.play_btn').html('<i class="fa-solid fa-play"></i>');
            console.log("onpause");

        }
        curr_track.onloadeddata = function () {
            console.log("track load complate");
        }
        //----------------------
        function updateMetadata() {
            navigator.mediaSession.metadata = new window.MediaMetadata({
                title: curr_track.title,
                artist: curr_track.artist,
                artwork: [
                    { src: 'https://raw.githubusercontent.com/emreaksel/askatesi/main/logo_siyahfon.jpg', sizes: '96x96', type: 'image/jpg' },
                    { src: 'https://raw.githubusercontent.com/emreaksel/askatesi/main/logo_siyahfon.jpg', sizes: '128x128', type: 'image/jpg' },
                    { src: 'https://raw.githubusercontent.com/emreaksel/askatesi/main/logo_siyahfon.jpg', sizes: '192x192', type: 'image/jpg' },
                    { src: 'https://raw.githubusercontent.com/emreaksel/askatesi/main/logo_siyahfon.jpg', sizes: '256x256', type: 'image/jpg' },
                    { src: 'https://raw.githubusercontent.com/emreaksel/askatesi/main/logo_siyahfon.jpg', sizes: '384x384', type: 'image/jpg' },
                    { src: 'https://raw.githubusercontent.com/emreaksel/askatesi/main/logo_siyahfon.jpg', sizes: '512x512', type: 'image/jpg' },
                ]
            });

            /* Previous Track & Next Track */
            //----------------------
            navigator.mediaSession.setActionHandler('previoustrack', function () {
                prevTrack();
            });
            navigator.mediaSession.setActionHandler('nexttrack', function () {
                nextTrack();
            });
            /* Play & Pause */
            navigator.mediaSession.setActionHandler('play', async function () {
                await playTrack();
                // Do something more than just playing audio...
            });
            navigator.mediaSession.setActionHandler('pause', function () {
                pauseTrack();
                // Do something more than just pausing audio...
            });
            navigator.mediaSession.setActionHandler('stop', null);

            // Media is loaded, set the duration.
            updatePositionState();
        }
        //----------------------
        /* Position state (supported since Chrome 81) */
        function updatePositionState() {
            // Reset position state when media is reset.
            navigator.mediaSession.setPositionState(null);

            if ('setPositionState' in navigator.mediaSession) {
                navigator.mediaSession.setPositionState({
                    duration: curr_track.duration,
                    playbackRate: curr_track.playbackRate,
                    position: curr_track.currentTime
                });
            }
        }
        //----------------------
        function Copy(text) {
            $('#share').val(text);
            var copyText = document.getElementById("share");
            /* Select the text field */
            copyText.select();
            copyText.setSelectionRange(0, 99999); /* For mobile devices */
            /* Copy the text inside the text field */
            navigator.clipboard.writeText(copyText.value);
            //alert("Paylaşım Bağlantısı Kopyalandı");
            console.log("Paylaşılan; " + $('.share').is(":visible"));
            $('.share').show();
            $('.timeline_wrap').hide();

        }
        //----------------------
        function playpauseTrack() {
            if (!isPlaying) playTrack();
            else pauseTrack();
        }
        //----------------------
        function playTrack() {
            curr_track.play();
            isPlaying = true;
            updateMetadata();
        }
        //----------------------
        function pauseTrack() {
            curr_track.pause();
            isPlaying = false;
            updateMetadata();
        }
        //----------------------
        function prevTrack() {
            if (listen_index > 0) {
                curr_track.pause();
                listen_index--;
                loadTrack(track_list_before[listen_index - 1]);
                setNukte();
                setImage();
                playTrack();
            }
        }
        //----------------------
        function nextTrack() {
            if (next_type == 0) { //karışık
                track_index = Math.floor(Math.random() * track_list.length);
            }
            else if (next_type == 1) {
                if (track_index < track_list.length - 1)
                    track_index += 1;
                else track_index = 0;
            }
            else if (next_type == 2) {
                //track index sabit kalır
            }
            listen_index++;
            loadTrack(track_index);
            setNukte();
            setImage();
            playTrack();
        }
        //----------------------
        function mixTrack() {
            //0 karışık, 1 sıra ile, 2 tekrarlı
            if (next_type == 0) {
                next_type = 1;
                $('#random').html('<i class="fa-solid fa-arrow-down-wide-short"></i>');
            }
            else if (next_type == 1) {
                next_type = 2;
                $('#random').html('<i class="fa-solid fa-arrows-rotate"></i>');
            }
            else if (next_type == 2) {
                next_type = 0;
                $('#random').html('<i class="fa-solid fa-shuffle"></i>');
            }
            konsola_yaz("function mixTrack", "next type=" + next_type);
        }
        //----------------------
        function loadTrack(track_indexxx) {

            curr_track.src = track_list[track_indexxx].songUrl;
            curr_track.title = track_list[track_indexxx].songName;
            curr_track.artist = track_list[track_indexxx].songPerson;
            curr_track.load();
            track_list_before.push(track_indexxx);
            track_index = track_indexxx;
            konsola_yaz("loadTrack", ' Track Index: ' + track_index);
            $(".track-name").text(track_list[track_indexxx].songName);
            $(".track-artist").text(track_list[track_indexxx].songPerson.replace(':', ''));
            clearInterval(updateTimer);
            updateTimer = setInterval(seekUpdate, 500);

        }
        //----------------------
        function seekTo(event) {
            let seek_background = document.querySelector(".seek_background");
            //bu satırda jquery kullnınca hata aldık

            console.log(event.clientX);
            console.log($(".seek_background").css("width").replace("px", ""));
            curr_track.currentTime = Math.floor(curr_track.duration * (100 * event.clientX / parseInt($(".seek_background").css("width").replace("px", ""))) / 100);
        }
        //----------------------
        function setNukte() {
            $(".marquee").text(list_nukte[Math.floor(Math.random() * list_nukte.length)]); //buradaki rastgele son nukteyi de seçebiliyor list_nukte.length-1 gibi davranıyor
        }
        //----------------------
        function setImage() {
            var adres1 = "https://raw.githubusercontent.com/emreaksel/askatesi/main/img/";
            var adres = adres1 + list_images[Math.floor(Math.random() * list_images.length)];
            console.log(adres);
            //$("#resim").attr("src", adres1 + list_images[Math.floor(Math.random() * list_images.length)]);
            $(".resim-sever").css("background-image", "url('" + adres + "')");
            $(".resim-sever").css("background-repeat", "no-repeat");
            $(".resim-sever").css("background-size", "cover");
            $(".resim-sever").css("background-position", "center center");
            $(".resim-sever").css("border-radius", "5px");
            $(".resim-sever").css("height", "100%");
            $(".resim-sever").css("width", "100%");
        }
        //----------------------
        function setListview() {
            track_list = track_list.reverse();
            $.each(track_list, function (index) {

                var trackNumber = (index + 1);

                $('ul#plList').append(`<li> \
                    <div class="plItem"> \
                        <span class="plNum">${trackNumber}.</span> \
                        <span class="plTitle">${track_list[index].songName}</span> \
                        <span class="plLength">${track_list[index].songPerson} </span> \
                    </div> \
                </li>`);
            });
            $('ul li').click(function () {
                $("#ilkalan").show();
                loadTrack($(this).index());
                //loadTrack(index);
                playTrack();

            });
        }
        //----------------------
        function seekUpdate() {
            var seekPosition = 0;
            let curr_time = document.querySelector(".current-time");
            let total_duration = document.querySelector(".total-duration");
            let seek = document.querySelector(".seek");

            if (!isNaN(curr_track.duration)) {
                seekPosition = curr_track.currentTime * (100 / curr_track.duration);

                //$('.seek').css("width") = seekPosition + "%";
                seek.style.width = seekPosition + "%";
                //$('.seek').stop(true, true).animate({ 'width': (curr_track.currentTime + .25) / curr_track.duration * 100 + '%' }, 250, 'linear');

                var currentMinutes = Math.floor(curr_track.currentTime / 60);
                var currentSeconds = Math.floor(curr_track.currentTime - currentMinutes * 60);
                var durationMinutes = Math.floor(curr_track.duration / 60);
                var durationSeconds = Math.floor(curr_track.duration - durationMinutes * 60);

                if (currentSeconds < 10) { currentSeconds = "0" + currentSeconds; }
                if (durationSeconds < 10) { durationSeconds = "0" + durationSeconds; }
                if (currentMinutes < 10) { currentMinutes = "0" + currentMinutes; }
                if (durationMinutes < 10) { durationMinutes = "0" + durationMinutes; }

                curr_time.textContent = currentMinutes + ":" + currentSeconds;
                total_duration.textContent = durationMinutes + ":" + durationSeconds;
            }
        }
        //----------------------
        function resetValues() {
            curr_time.textContent = "00:00";
            total_duration.textContent = "00:00";
            $(".seek_slider").value = 0;
        }
        //----------------------
        function ilk_parcayi_ayarlar() {
            //let parselle="https://www.mediafire.com/file/wame8e6p9gwuqu6/mededya.mp3";
            var parselle = window.location.href;//https://www.mediafire.com/file/wame8e6p9gwuqu6/mededya
            if (parselle.includes("?")) {
                console.log("paylaşılan bir parça okundu: " + "true");
                parselle = parselle.replace('https://atesiask.netlify.app/?', '');

                var bilgi = parselle.split("&"); //catid=9&trackid=650
                var id = bilgi[1].replace("trackid=", "");
                var din = bilgi[0].replace("catid=", "");
                //var url="https://www.mediafire.com/"+parselle+".mp3";

                console.log("dinleme listesi: " + din);
                console.log("parça id: " + id);
                loadTrack(track_list.length - id - 1);
            } else {
                track_index = Math.floor(Math.random() * track_list.length);
                loadTrack(track_index);
                //console.log("ilk parça: " + track_list[track_index].name);
            }
            listen_index++;

        }
        //----------------------
        function konsola_yaz(tanım, aciklama = "") {
            var today = new Date();
            var date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();
            var time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
            var dateTime = date + ' ' + time;
            console.log(" Log " + time + " --> " + tanım + " --> " + aciklama);
        }
        //----------------------
        //Fotoğraf Listesi
        list_images = ['026.jpg', '051x.jpg', '131-bali-indonesia.jpg', '1929.jpg', '27nisan_1.jpg', '27nisan_2.jpg', '27nisan_4.jpg', '28n1.jpg', '28n2.jpg', '28n_3.jpg', '29n_4.jpg', '43-tuscay-italy.jpg', '5m_1.jpg', '5m_2.jpg', '5m_3.jpg', '5m_4.jpg', '5m_5.jpg', '5m_6.jpg', 'adada.jpg', 'aga.jpg', 'aksa2.jpg', 'ankara2.jpg', 'antalya_1.jpg', 'atesi_ask.jpg', 'atesiask_fon.jpg', 'aya1.jpg', 'ayc.jpg', 'aynali.jpg', 'aynali_gol.jpg', 'bahar.jpg', 'bakakal.jpg', 'baska_kabe.jpg', 'bastankara.jpg', 'bayrak.jpg', 'beach.jpg', 'beach18.jpg', 'beyazkus.jpg', 'blueyes.jpg', 'buhara_2.jpg', 'cadir.jpg', 'cave1.jpg', 'cave2.jpg', 'cemaat.jpg', 'cicek_kedi.jpg', 'dalgada.jpg', 'deniz.jpg', 'deniz1.jpg', 'dev.jpg', 'dm1.jpg', 'dunya1.jpg', 'ekmek.jpg', 'entrance.jpg', 'ernst1.jpg', 'eski_kapi.jpg', 'fas.jpg', 'flower_field.jpg', 'gel_artik.jpg', 'genesi.jpg', 'gerome.jpg', 'giris_kapisi.jpg', 'gizemliyol.jpg', 'golde.jpg', 'golkenari.jpg', 'golyeni.jpg', 'gravur1.jpg', 'greece.jpg', 'greece1.jpg', 'gul1.jpg', 'gunbatimi.jpg', 'gunebakanz.jpg', 'gunes11.jpg', 'gustav.jpg', 'guvercin.jpg', 'halasultan.jpg', 'havai.jpg', 'hayber.jpg', 'hiclik.jpg', 'highland.jpg', 'hira.jpg', 'hirvatistan.jpg', 'hu_golge.jpg', 'huseyin_kutlu.jpg', 'huzur.jpg', 'huzurupir.jpg', 'icerde.jpg', 'iki_kayik.jpg', 'ilkbahar.jpg', 'insanbu.jpg', 'iskele.jpg', 'istanbulx.jpg', 'j_gence.jpg', 'java.jpg', 'kab1.jpg', 'kab2.jpg', 'kab3.jpg', 'kab4.jpg', 'kabe1.jpg', 'kabe1_1.jpg', 'kabe_bos.jpg', 'kabe_ortu_1.jpg', 'kabe_yeni1.jpg', 'kabe_yeni2.jpg', 'kabe_zoom.jpg', 'kapi_kabe.jpg', 'karadeniz.jpg', 'karcicek.jpg', 'karjini.jpg', 'karli_tren.jpg', 'karwat1.jpg', 'kayik_1.jpg', 'kayikci.jpg', 'kb1.jpg', 'kenya.jpg', 'kirkpinar.jpg', 'kis.jpg', 'kizkulesi.jpg', 'kizkulesi_1.jpg', 'kus1.jpg', 'kus2.jpg', 'kus3.jpg', 'kuslara_serbest.jpg', 'kuslara_serbest2.jpg', 'lamba.jpg', 'leylekler.jpg', 'magara1.jpg', 'mak_ibrahim.jpg', 'makepeace.jpg', 'maldiv1.jpg', 'maldiv2.jpg', 'malibu.jpg', 'man1.jpg', 'mavi.jpg', 'mavilim.jpg', 'medine_cuma_1.jpg', 'mekke_uzay_1.jpg', 'minim.jpg', 'misir.jpg', 'mjgr.jpg', 'mobile_atesiask.jpg', 'muhabbetle2.jpg', 'muharrem_1.jpg', 'mutlu.jpg', 'nezihbabax.jpg', 'orient1.jpg', 'orient2.jpg', 'ory1.jpg', 'ory2.jpg', 'ory3.jpg', 'ory4.jpg', 'osmanhamdi.jpg', 'park1.jpg', 'park10.jpg', 'park11.jpg', 'park2.jpg', 'park3.jpg', 'pencere.jpg', 'perde2.jpg', 'ramadan_1438_1.jpg', 'ramadan_1438_10.jpg', 'ramadan_1438_11.jpg', 'ramadan_1438_12.jpg', 'ramadan_1438_13.jpg', 'ramadan_1438_14.jpg', 'ramadan_1438_15.jpg', 'ramadan_1438_2.jpg', 'ramadan_1438_3.jpg', 'ramadan_1438_4.jpg', 'ramadan_1438_5.jpg', 'ramadan_1438_6.jpg', 'ramadan_1438_7.jpg', 'ramadan_1438_8.jpg', 'ramadan_1438_9.jpg', 'ramazan11.jpg', 'ramazan28.jpg', 'ramazan32.jpg', 'ramazan33.jpg', 'ramazan_1438_iftar.jpg', 'ravza1.jpg', 'reflection.jpg', 'saklambac2.jpg', 'sebeke.jpg', 'selale.jpg', 'selale3.jpg', 'semazen1.jpg', 'sirinkan.jpg', 'sirinkan2.jpg', 'sis.jpg', 'sky1x.jpg', 'sokakta.jpg', 'spiral.jpg', 'sualti_1.jpg', 'sultanahmet_1.jpg', 'sunset.jpg', 'sunsetx.jpg', 'surit.jpg', 'tepeden_yelkenli.jpg', 'timur_semerkand.jpg', 'topkapi_1.jpg', 'ulu_cami.jpg', 'umut.jpg', 'umut2.jpg', 'umutrehberi.jpg', 'uydudan.jpg', 'uydudan1.jpg', 'uzay1.jpg', 'vandernat.jpg', 'vink.jpg', 'voyage_8.jpg', 'wailing.jpg', 'yelkenli.jpg', 'yelkenli2.jpg', 'yeni1.jpg', 'yeni10.jpg', 'yeni100.jpg', 'yeni101.jpg', 'yeni102.jpg', 'yeni103.jpg', 'yeni104.jpg', 'yeni106.jpg', 'yeni107.jpg', 'yeni108.jpg', 'yeni109.jpg', 'yeni11.jpg', 'yeni110.jpg', 'yeni111.jpg', 'yeni112.jpg', 'yeni113.jpg', 'yeni114.jpg', 'yeni115.jpg', 'yeni116.jpg', 'yeni117.jpg', 'yeni118.jpg', 'yeni119.jpg', 'yeni12.jpg', 'yeni120.jpg', 'yeni121.jpg', 'yeni122.jpg', 'yeni124.jpg', 'yeni125.jpg', 'yeni127.jpg', 'yeni128.jpg', 'yeni129.jpg', 'yeni13.jpg', 'yeni130.jpg', 'yeni131.jpg', 'yeni132.jpg', 'yeni133.jpg', 'yeni134.jpg', 'yeni135.jpg', 'yeni136.jpg', 'yeni137.jpg', 'yeni138.jpg', 'yeni139.jpg', 'yeni14.jpg', 'yeni140.jpg', 'yeni141.jpg', 'yeni142.jpg', 'yeni144.jpg', 'yeni145.jpg', 'yeni146.jpg', 'yeni147.jpg', 'yeni148.jpg', 'yeni149.jpg', 'yeni15.jpg', 'yeni150.jpg', 'yeni151.jpg', 'yeni152.jpg', 'yeni153.jpg', 'yeni154.jpg', 'yeni155.jpg', 'yeni156.jpg', 'yeni157.jpg', 'yeni158.jpg', 'yeni159.jpg', 'yeni16.jpg', 'yeni160.jpg', 'yeni161.jpg', 'yeni162.jpg', 'yeni163.jpg', 'yeni164.jpg', 'yeni165.jpg', 'yeni166.jpg', 'yeni167.jpg', 'yeni168.jpg', 'yeni169.jpg', 'yeni17.jpg', 'yeni170.jpg', 'yeni172.jpg', 'yeni173.jpg', 'yeni174.jpg', 'yeni175.jpg', 'yeni176.jpg', 'yeni177.jpg', 'yeni178.jpg', 'yeni179.jpg', 'yeni18.jpg', 'yeni180.jpg', 'yeni181.jpg', 'yeni182.jpg', 'yeni183.jpg', 'yeni184.jpg', 'yeni185.jpg', 'yeni186.jpg', 'yeni187.jpg', 'yeni188.jpg', 'yeni189.jpg', 'yeni19.jpg', 'yeni190.jpg', 'yeni191.jpg', 'yeni192.jpg', 'yeni193.jpg', 'yeni194.jpg', 'yeni195.jpg', 'yeni196.jpg', 'yeni197.jpg', 'yeni198.jpg', 'yeni199.jpg', 'yeni2.jpg', 'yeni20.jpg', 'yeni200.jpg', 'yeni201.jpg', 'yeni202.jpg', 'yeni203.jpg', 'yeni204.jpg', 'yeni205.jpg', 'yeni206.jpg', 'yeni207.jpg', 'yeni208.jpg', 'yeni209.jpg', 'yeni21.jpg', 'yeni210.jpg', 'yeni211.jpg', 'yeni212.jpg', 'yeni213.jpg', 'yeni214.jpg', 'yeni215.jpg', 'yeni216.jpg', 'yeni217.jpg', 'yeni218.jpg', 'yeni219.jpg', 'yeni22.jpg', 'yeni220.jpg', 'yeni221.jpg', 'yeni222.jpg', 'yeni223.jpg', 'yeni224.jpg', 'yeni225.jpg', 'yeni226.jpg', 'yeni227.jpg', 'yeni228.jpg', 'yeni229.jpg', 'yeni23.jpg', 'yeni230.jpg', 'yeni231.jpg', 'yeni232.jpg', 'yeni233.jpg', 'yeni234.jpg', 'yeni235.jpg', 'yeni236.jpg', 'yeni237.jpg', 'yeni238.jpg', 'yeni239.jpg', 'yeni24.jpg', 'yeni242.jpg', 'yeni243.jpg', 'yeni244.jpg', 'yeni245.jpg', 'yeni246.jpg', 'yeni247.jpg', 'yeni248.jpg', 'yeni249.jpg', 'yeni25.jpg', 'yeni250.jpg', 'yeni251.jpg', 'yeni252.jpg', 'yeni253.jpg', 'yeni254.jpg', 'yeni255.jpg', 'yeni256.jpg', 'yeni257.jpg', 'yeni258.jpg', 'yeni26.jpg', 'yeni27.jpg', 'yeni28.jpg', 'yeni29.jpg', 'yeni3.jpg', 'yeni30.jpg', 'yeni31.jpg', 'yeni32.jpg', 'yeni33.jpg', 'yeni35.jpg', 'yeni36.jpg', 'yeni37.jpg', 'yeni38.jpg', 'yeni39.jpg', 'yeni4.jpg', 'yeni40.jpg', 'yeni41.jpg', 'yeni42.jpg', 'yeni43.jpg', 'yeni44.jpg', 'yeni45.jpg', 'yeni46.jpg', 'yeni47.jpg', 'yeni48.jpg', 'yeni49.jpg', 'yeni5.jpg', 'yeni50.jpg', 'yeni500.jpg', 'yeni501.jpg', 'yeni502.jpg', 'yeni51.jpg', 'yeni52.jpg', 'yeni53.jpg', 'yeni54.jpg', 'yeni55.jpg', 'yeni56.jpg', 'yeni57.jpg', 'yeni58.jpg', 'yeni59.jpg', 'yeni6.jpg', 'yeni60.jpg', 'yeni61.jpg', 'yeni62.jpg', 'yeni63.jpg', 'yeni64.jpg', 'yeni65.jpg', 'yeni66.jpg', 'yeni67.jpg', 'yeni68.jpg', 'yeni69.jpg', 'yeni7.jpg', 'yeni70.jpg', 'yeni71.jpg', 'yeni72.jpg', 'yeni73.jpg', 'yeni74.jpg', 'yeni75.jpg', 'yeni76.jpg', 'yeni77.jpg', 'yeni78.jpg', 'yeni79.jpg', 'yeni8.jpg', 'yeni80.jpg', 'yeni81.jpg', 'yeni82.jpg', 'yeni83.jpg', 'yeni84.jpg', 'yeni85.jpg', 'yeni86.jpg', 'yeni87.jpg', 'yeni88.jpg', 'yeni89.jpg', 'yeni9.jpg', 'yeni90.jpg', 'yeni91.jpg', 'yeni92.jpg', 'yeni93.jpg', 'yeni94.jpg', 'yeni96.jpg', 'yeni97.jpg', 'yeni98.jpg', 'yeni99.jpg', 'yeni_k.jpg', 'yeni_kar.jpg', 'yeni_manzara.jpg', 'yeni_tat.jpg', 'yenibie.jpg', 'yesil1.jpg', 'yesil_agac.jpg', 'yesil_mirac.jpg', 'yesillik.jpg', 'yetim.jpg', 'zorn_atesiask.jpg'

        ];
        //==============================================================================================
        function hazirliklar() {
            setListview()
            ilk_parcayi_ayarlar();
            konsola_yaz("liste uzunluğu", ': ' + track_list.length);
        }
        //----------------------
        var birkerecalisti_nukte = false;
        $.ajax({
            url: "/nukte.txt",
            type: "GET",
            contentType: "application/x-www-form-urlencoded;charset=UTF-8",
            dataType: "text",
            success: function (text) {
                if (!birkerecalisti_nukte) {
                    var lines = text.split("\n");

                    for (var i = 0, len = lines.length; i < len; i++) {
                        //console.log("nukte: "+lines[i]);
                        list_nukte.push(lines[i]);
                    }
                    konsola_yaz("nukte uzunluğu", ': ' + list_nukte.length);
                    setNukte();
                    setImage()
                    birkerecalisti_nukte = true;
                }
            },
            error: function (status) {
                console.log("request error:");
            }
        });

        konsola_yaz("adres", ': ' + window.location.href);
        //----------------------
        //==============================================================================================

        hazirliklar();
    //==============================================================================================
    </script>
</body>

</html>
